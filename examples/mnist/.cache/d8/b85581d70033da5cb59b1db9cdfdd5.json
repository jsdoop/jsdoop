{"id":"node_modules/@tensorflow/tfjs-layers/dist/metrics.js","dependencies":[{"name":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js.map","includedInParent":true,"mtime":1550574230668},{"name":"/home/andu/Documents/git/web-dist-edge/examples/mnist/package.json","includedInParent":true,"mtime":1550736445286},{"name":"/home/andu/Documents/git/web-dist-edge/examples/mnist/.babelrc","includedInParent":true,"mtime":1550128877340},{"name":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/package.json","includedInParent":true,"mtime":1550574230668},{"name":"@tensorflow/tfjs-core","loc":{"line":4,"column":26},"parent":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js","resolved":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-core/dist/tf-core.esm.js"},{"name":"./backend/state","loc":{"line":5,"column":22},"parent":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js","resolved":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/backend/state.js"},{"name":"./backend/tfjs_backend","loc":{"line":6,"column":16},"parent":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js","resolved":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/backend/tfjs_backend.js"},{"name":"./errors","loc":{"line":7,"column":23},"parent":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js","resolved":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/errors.js"},{"name":"./losses","loc":{"line":9,"column":23},"parent":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/metrics.js","resolved":"/home/andu/Documents/git/web-dist-edge/examples/mnist/node_modules/@tensorflow/tfjs-layers/dist/losses.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tfc = require(\"@tensorflow/tfjs-core\");\nvar tfjs_core_1 = require(\"@tensorflow/tfjs-core\");\nvar state_1 = require(\"./backend/state\");\nvar K = require(\"./backend/tfjs_backend\");\nvar errors_1 = require(\"./errors\");\nvar losses_1 = require(\"./losses\");\nvar losses_2 = require(\"./losses\");\nfunction binaryAccuracy(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var threshold = tfc.mul(state_1.getScalar(0.5), tfc.onesLike(yPred));\n        var yPredThresholded = K.cast(tfc.greater(yPred, threshold), yTrue.dtype);\n        return tfc.mean(tfc.equal(yTrue, yPredThresholded), -1);\n    });\n}\nexports.binaryAccuracy = binaryAccuracy;\nfunction categoricalAccuracy(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () { return K.cast(tfc.equal(tfc.argMax(yTrue, -1), tfc.argMax(yPred, -1)), 'float32'); });\n}\nexports.categoricalAccuracy = categoricalAccuracy;\nfunction truePositives(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var one = state_1.getScalar(1);\n        return tfc.logicalAnd(yTrue.equal(one), yPred.equal(one))\n            .sum()\n            .cast('float32');\n    });\n}\nfunction falseNegatives(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var one = state_1.getScalar(1);\n        var zero = state_1.getScalar(0);\n        return tfc.logicalAnd(yTrue.equal(one), yPred.equal(zero))\n            .sum()\n            .cast('float32');\n    });\n}\nfunction falsePositives(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var one = state_1.getScalar(1);\n        var zero = state_1.getScalar(0);\n        return tfc.logicalAnd(yTrue.equal(zero), yPred.equal(one))\n            .sum()\n            .cast('float32');\n    });\n}\nfunction precision(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var zero = state_1.getScalar(0);\n        var tp = truePositives(yTrue, yPred);\n        var fp = falsePositives(yTrue, yPred);\n        var denominator = tp.add(fp);\n        return tfc.where(tfc.greater(denominator, zero), tp.div(denominator), zero)\n            .cast('float32');\n    });\n}\nexports.precision = precision;\nfunction recall(yTrue, yPred) {\n    return tfjs_core_1.tidy(function () {\n        var zero = state_1.getScalar(0);\n        var tp = truePositives(yTrue, yPred);\n        var fn = falseNegatives(yTrue, yPred);\n        var denominator = tp.add(fn);\n        return tfc.where(tfc.greater(denominator, zero), tp.div(denominator), zero)\n            .cast('float32');\n    });\n}\nexports.recall = recall;\nfunction binaryCrossentropy(yTrue, yPred) {\n    return losses_2.binaryCrossentropy(yTrue, yPred);\n}\nexports.binaryCrossentropy = binaryCrossentropy;\nfunction sparseCategoricalAccuracy(yTrue, yPred) {\n    if (yTrue.rank === yPred.rank) {\n        yTrue = yTrue.squeeze([yTrue.rank - 1]);\n    }\n    yPred = yPred.argMax(-1);\n    if (yPred.dtype !== yTrue.dtype) {\n        yPred = yPred.asType(yTrue.dtype);\n    }\n    return tfc.equal(yTrue, yPred).asType('float32');\n}\nexports.sparseCategoricalAccuracy = sparseCategoricalAccuracy;\nfunction topKCategoricalAccuracy(yTrue, yPred) {\n    throw new errors_1.NotImplementedError();\n}\nexports.topKCategoricalAccuracy = topKCategoricalAccuracy;\nfunction sparseTopKCategoricalAccuracy(yTrue, yPred) {\n    throw new errors_1.NotImplementedError();\n}\nexports.sparseTopKCategoricalAccuracy = sparseTopKCategoricalAccuracy;\nexports.mse = losses_1.meanSquaredError;\nexports.MSE = losses_1.meanSquaredError;\nexports.mae = losses_1.meanAbsoluteError;\nexports.MAE = losses_1.meanAbsoluteError;\nexports.mape = losses_1.meanAbsolutePercentageError;\nexports.MAPE = losses_1.meanAbsolutePercentageError;\nexports.categoricalCrossentropy = losses_1.categoricalCrossentropy;\nexports.cosine = losses_1.cosineProximity;\nexports.sparseCategoricalCrossentropy = losses_1.sparseCategoricalCrossentropy;\nfunction get(identifier) {\n    var metricsMap = {\n        binaryAccuracy: binaryAccuracy,\n        categoricalAccuracy: categoricalAccuracy,\n        precision: precision,\n        categoricalCrossentropy: exports.categoricalCrossentropy,\n        sparseCategoricalCrossentropy: exports.sparseCategoricalCrossentropy,\n        mse: exports.mse,\n        MSE: exports.MSE,\n        mae: exports.mae,\n        MAE: exports.MAE,\n        mape: exports.mape,\n        MAPE: exports.MAPE,\n        cosine: exports.cosine,\n    };\n    if (typeof identifier === 'string' && identifier in metricsMap) {\n        return metricsMap[identifier];\n    }\n    else if (typeof identifier !== 'string' && identifier != null) {\n        return identifier;\n    }\n    else {\n        throw new errors_1.ValueError(\"Unknown metric \" + identifier);\n    }\n}\nexports.get = get;\n","map":{"version":3,"file":"metrics.js","sourceRoot":"","sources":["../src/metrics.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"hash":"156d5bdb438466b46a512617395c4a63","cacheData":{"env":{}}}